{
  "hash": "01e148b8202b2651f82c687456eb7a37",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Ciencia de Datos para Economistas\"\nsubtitle: \"Clase 6- Construir Funciones y Data Frames\"\n#format: live-html\ndate: \"Noviembre 4, 2024\"\nformat: \n  revealjs:\n    incremental: true   \n---\n\n\n\n## Construir Funciones:\n\n### Representaci贸n de un \n\n-   驴C贸mo lo hacemos?\n\n-   Ayuda LLM\n\n    -   Funciones disponibles\n\n    -   Sintaxis\n\n## Funci贸n \n\n驴Qu茅 debe hacer la funci贸n? 驴Qu茅 debe representar?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# ejecutar c贸digo y gradualmente descomentar l铆neas\nposibles_salidas_dado <- c(1:6)\n# sample(posibles_salidas_dado, 1)\n# sample(posibles_salidas_dado, 2)\n# sample(posibles_salidas_dado, 3)\n# sample(posibles_salidas_dado, 7) # genera error\n# sample(posibles_salidas_dado, 7, replace=TRUE)\n```\n:::\n\n\n\n隆Juguemos!\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# primera versi贸n funci贸n\n\nlanzamiento <- function(cdad_dados){\n  sample(1:6,cdad_dados, replace=TRUE)\n}\n\n# arrojar dado seg煤n funci贸n que crearmos\nlanzamiento (cdad_dados=3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 4 6 6\n```\n\n\n:::\n\n```{.r .cell-code}\nlanzamiento (cdad_dados=6)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2 4 4 3 2 5\n```\n\n\n:::\n:::\n\n\n\n## Funci贸n 拆....\n\n### - 驴Entrada? =\\> Argumentos\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# funci贸n con dos argumentos\nlanzamiento <- function (cdad_dados,\n                         nombre_jugador){\n  resultado <- sample (1:6,cdad_dados, replace = TRUE )\n  \n  paste(nombre_jugador, 'obtuvo el siguiente resultado',\n        resultado)\n}\n\n#La siguiente llamada a la funci贸n generar谩 error ya que no contiente\n# dentro el valor del segundo argumento que es el nombre del jugador\n\n# lanzamiento(cdad_dados= 4)\n\nlanzamiento(nombre_jugador= 'Braian',\n            cdad_dados= 2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Braian obtuvo el siguiente resultado 2\" \"Braian obtuvo el siguiente resultado 3\"\n```\n\n\n:::\n\n```{.r .cell-code}\n# la siguiente ejecuci贸n generar谩 un problema al no nombrar los\n# argumentos y en orden posicional, pasar \"Braian\" como el primer\n# argumento, que en la funci贸n que declaramos como \"lanzamiento\"\n# corresponde a \"cdad_dados\", que debe ser de tipo num茅rico. \n\n# Lo mismo pasar铆a con el segundo argumento que estamos pasando que en este caso es 5,\n# pero no lo estamos referenciando con el nombre del argumento en la \n# funci贸n, que corresponde en la segunda posici贸n al de nombre_jugador\n\n#lanzamiento( 'Braian',\n#             5)\n\nlanzamiento(2,'Jose')\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Jose obtuvo el siguiente resultado 5\" \"Jose obtuvo el siguiente resultado 6\"\n```\n\n\n:::\n:::\n\n\n\nPara entender mejor la construcci贸n de las funciones les recomiendo la lectura de esta secci贸n del libro Hands On Promgramming With R <https://rstudio-education.github.io/hopr/basics.html#sample-with-replacement> que va muy similar a lo que revisamos en clase en cuanto al ejemplo del .\n\nPara revisar documentaci贸n de la funci贸n `paste` ejecutar `?paste` en la consola.\n\n## Principios Nombres Funciones\n\n1.  **Descripci贸n Clara** : El nombre debe claramente indicar qu茅 hace la funci贸n. Evita nombres gen茅ricos como **`funcion`** o **`proceso`**.\n\n2.  **Consistencia y Coherencia** : Mant茅n un estilo de nomenclatura consistente dentro del proyecto o grupo para facilitar la lectura y comprensi贸n del c贸digo.\n\n## Principios Nombres Funciones - cont.\n\n1.  **Usa Min煤sculas y Guiones Bajos** : Comienza el nombre con una letra min煤scula y utiliza guiones bajos (**`_`**) para separar palabras. Esto hace que los nombres sean m谩s f谩ciles de leer y evitar conflictos con palabras reservadas.\n\n2.  Resto de normas para nombrar objetos y variables\n\n## Construir Data Frame (DF)\n\ndatos [World Bank](https://data.worldbank.org/indicator/NY.GDP.MKTP.KD.ZG)\n\ncharacter/ nombres pa铆ses\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnombre_paises <- c('togo','japon','irlanda')\nnombre_paises\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"togo\"    \"japon\"   \"irlanda\"\n```\n\n\n:::\n:::\n\n\n\nnumeric/ PIB a帽o 2023\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# vector para registrar variaci贸n PIB\nvar_pib <- c (-1.7, 2.3, -3.1 ) # separador d茅cimal es el punto! ojo\n# datos inventados, no obtenidos de la p谩gina\nvar_pib\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] -1.7  2.3 -3.1\n```\n\n\n:::\n:::\n\n\n\nlogical\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n##########################################################\ncrecimiento_presente <- var_pib >0\ncrecimiento_presente\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] FALSE  TRUE FALSE\n```\n\n\n:::\n\n```{.r .cell-code}\n# crear un vector de tipo logical donde se determina si cada elemento de var_pib es mayor que cero\n```\n:::\n\n\n\n## Construir DF\n\nRecordar la relaci贸n de orden que tenemos entre los tres vectores\n\npaises - var_pib - crecimiento_presente\n\nLista con vectores del mismo `length()` . En la consola ejecutar para cada vector la funci贸n `length` de la siguiente forma `length(var_pib)` .\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# usar la funci贸n de R que se llama data_frame\ndf_pib_paises <- data.frame(pais= nombre_paises,\n                            delta_PIB= var_pib,\n                            crecimiento= crecimiento_presente)\n# esta funci贸n de nombre data.frame, puede tomar tantos argumentos como sean necesarios, siendo cada argumento el nombre que se le dar谩 a cada columna (o atributo) seguido de un signo igual y posteriormente los datos que conformar谩n cada columna, por ejemplo: pais= nombre_paises\n\n# Al crear la data frame, se colocaran tantos argumentos, como columnas se quieran tener, y como en toda funci贸n, ser谩n separados por una coma \",\" la indicaci贸n del argumento.\n\n\ndf_pib_paises # mostrar la Data Frame Creada\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     pais delta_PIB crecimiento\n1    togo      -1.7       FALSE\n2   japon       2.3        TRUE\n3 irlanda      -3.1       FALSE\n```\n\n\n:::\n\n```{.r .cell-code}\n# recordar que para construir una DF desde distintos vectores necesitamos que cada vector contenta la misma cdad de elementos, en este caso son 3.\n#\n```\n:::\n\n\n\n## Consultar la clase del objeto creado:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nclass (df_pib_paises)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"data.frame\"\n```\n\n\n:::\n:::\n\n\n\nEn el libro electr贸nico \"R para Principiantes\" de Juan B. Mendoza, pueden revisar alg煤n complemento sobre las data frames, disponible en <https://bookdown.org/jboscomendoza/r-principiantes4/data-frames.html>\n\n## Acceso Elementos Vectores, Listas y Data Frames\n\nSe disponen de estos operadores para acceder a los elementos que conforman los vectores, listas y Data Frames\n\n| vector | lista     | DF        |\n|--------|-----------|-----------|\n| \\[ \\]  | \\[ \\]     | \\[ \\]     |\n|        | \\[\\[ \\]\\] | \\[\\[ \\]\\] |\n|        | \\$        | \\$        |\n\n## Ejemplos Accesos- Vectores\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvector_demo <- seq(from= 5, to =35, by=3)\nvector_demo\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1]  5  8 11 14 17 20 23 26 29 32 35\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nvector_demo [3]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 11\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nvector_demo [[3]]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 11\n```\n\n\n:::\n:::\n\n\n\nLos dos m茅todos de acceso, mediante los operadores `[` y `[[` generan el mismo resultado cuando se trabaja con vectores.\n\n## Ejemplos Accesos- Lista\n\nEn el libro \"R para Principiantes\" de Juan B. Mendoza , en el acceso <https://bookdown.org/jboscomendoza/r-principiantes4/listas.html> , pueden obtener informaci贸n adicional sobre qu茅 son las listas\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmonth.name # el objeto month.name viene precargado en R\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"January\"   \"February\"  \"March\"     \"April\"     \"May\"       \"June\"      \"July\"     \n [8] \"August\"    \"September\" \"October\"   \"November\"  \"December\" \n```\n\n\n:::\n\n```{.r .cell-code}\nletters # el objeto letters viene precargado en R\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"a\" \"b\" \"c\" \"d\" \"e\" \"f\" \"g\" \"h\" \"i\" \"j\" \"k\" \"l\" \"m\" \"n\" \"o\" \"p\" \"q\" \"r\" \"s\" \"t\" \"u\"\n[22] \"v\" \"w\" \"x\" \"y\" \"z\"\n```\n\n\n:::\n\n```{.r .cell-code}\nlista_demo <- list(meses= month.name, letras= letters, numeros= 1:12)\nlista_demo # verificamos contenido de la lista\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$meses\n [1] \"January\"   \"February\"  \"March\"     \"April\"     \"May\"       \"June\"      \"July\"     \n [8] \"August\"    \"September\" \"October\"   \"November\"  \"December\" \n\n$letras\n [1] \"a\" \"b\" \"c\" \"d\" \"e\" \"f\" \"g\" \"h\" \"i\" \"j\" \"k\" \"l\" \"m\" \"n\" \"o\" \"p\" \"q\" \"r\" \"s\" \"t\" \"u\"\n[22] \"v\" \"w\" \"x\" \"y\" \"z\"\n\n$numeros\n [1]  1  2  3  4  5  6  7  8  9 10 11 12\n```\n\n\n:::\n:::\n\n\n\n### M茅todos de acceso \\[ \\], \\$ y \\[\\[ \\]\\]\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlista_demo[1]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$meses\n [1] \"January\"   \"February\"  \"March\"     \"April\"     \"May\"       \"June\"      \"July\"     \n [8] \"August\"    \"September\" \"October\"   \"November\"  \"December\" \n```\n\n\n:::\n\n```{.r .cell-code}\n# ir descomentando l铆nea a l铆nea para evaluar los resultados\n# lista_demo$meses \n# lista_demo[[1]]\n```\n:::\n\n\n\n## Comparaci贸n Elementos\n\nSe hace una comparaci贸n de tipo l贸gico, entre la igualdad de cada uno de los elementos que arroja `lista_demo$meses` con los elementos que arroja `lista_demo[[1]]`\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlista_demo$meses == lista_demo[[1]]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE\n```\n\n\n:::\n:::\n\n\n\nSe puede ver, uno a uno, que todos los elementos que arroja cada uno de los m茅todos de acceso, son iguales puesto que aparecen todos los valores como `TRUE`\n\n## Ejemplos Accesos- Lista/\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# ir descomentando l铆nea a l铆nea para evaluar los resultados\nlista_demo[[1]][3]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"March\"\n```\n\n\n:::\n\n```{.r .cell-code}\n#lista_demo$meses[3]\n```\n:::\n\n\n\n## Pendiente por Revisar en pr贸xima Clase\n\nLas dos clases pasadas (5 y 6) ha quedado pendiente abordar estos dos temas:\n\n-   Consultar Vignettes y Cheat Sheets\n\n-   Acceso a elementos de df (filas, columnas o valor determinado)\n\n## V铆deo de Inter茅s\n\nLa pr贸xima semana empezamos a trabajar con el libro R4DS de Hadley Wickham y el segundo cap铆tulo versa sobre la visualizaci贸n de los datos, as铆 que el siguiente v铆deo puede resultar de inter茅s <https://www.youtube.com/watch?v=jbkSRLYSojo>\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
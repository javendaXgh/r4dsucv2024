{
  "hash": "89f83280e6c624074f2e58e3cd7408b2",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Ciencia de Datos para Economistas\"\nsubtitle: \"Clase 20 - Gráficos Exploratorios (GE)\"\ndate: \"January 22, 2025\"\nauthor: \"M.Sc. José M. Avendaño\"\noutput:\n  html_document:\n    toc: yes\n    incremental: true\n# filters:\n#   - webr\nengine: knitr\nformat:\n  revealjs:\n    incremental: true\nexecute:\n echo: false\n---\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n\n\n## Gráficos Exploratorios (GE)\n\n-   Comprender características que presentan los datos\n-   Encontrar patrones presentes o implícitos\n-   Evaluar posibles estrategias de modelización\n-   Depurar el análisis\n-   Comunicar los resultados del proceso de obtención-levantamiento de los datos\n\n## Características de los GE\n\n-   Se hacen rápidamente\n\n-   Se hace un gran número\n\n-   El objetivo es la comprensión personal\n\n-   Los ejes/leyendas se limpian generalmente (más tarde)\n\n-   El color/tamaño se utilizan principalmente como información\n\n## Características de los GE- 2\n\n-   Los gráficos exploratorios son «rápidos y sucios».\n\n-   Permiten resumir los datos (normalmente de forma gráfica) y resaltar las características generales.\n\n-   Explorar preguntas e hipótesis básicas (y quizás descartarlas)\n\n-   Sugieren estrategias de modelización para el «siguiente paso»\n\n## NOTA:\n\nEl contenido de las tres anteriores láminas se basa en la presentación \"Exploratory Graphs\" del Prof. Roger Peng, complementada por su libro \"Exploratory Data Analysis with R\" disponible en el [enlace](https://bookdown.org/rdpeng/exdata/).\n\n## Sumarios en una Dimensión\n\n-   Tablas sumario: `table` , `summary`\n\n-   Gráficos:\n\n    -   Boxplot - Diagrama de Caja\n\n    -   Histograms - Histogramas\n\n    -   Density Plot - Gráfico de Densidad\n\n    -   Barplot - Diagrama/gráfico de Barras\n\n    -   ScatterPlots (bidimensional) - Diagrama de Dispersión\n\n## Conjuntos de Datos a Usar 1\n\n### Gapminder\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(gapminder)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 6\n  country     continent  year lifeExp      pop gdpPercap\n  <fct>       <fct>     <int>   <dbl>    <int>     <dbl>\n1 Afghanistan Asia       1952    28.8  8425333      779.\n2 Afghanistan Asia       1957    30.3  9240934      821.\n3 Afghanistan Asia       1962    32.0 10267083      853.\n4 Afghanistan Asia       1967    34.0 11537966      836.\n5 Afghanistan Asia       1972    36.1 13079460      740.\n6 Afghanistan Asia       1977    38.4 14880372      786.\n```\n\n\n:::\n:::\n\n\n\n## Conjuntos de Datos a Usar 2\n\n### Gapminder 2007\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngapminder_2007 <- gapminder%>%\n  filter(year==2007)\n```\n:::\n\n\n\n## Conjuntos de Datos a Usar 3\n\n### Gapminder África y Europa\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngapminder_afeu <- gapminder%>%\n  filter(continent %in% c('Africa','Europe'))%>%\n  mutate(continent= as.character(continent))\n```\n:::\n\n\n\n## Conjuntos de Datos a Usar 4\n\n### Gapminder África y Europa 2007\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngapminder_2007_afeu <- gapminder_2007%>%\n  filter(continent %in% c('Africa','Europe'))%>%\n  mutate(continent= as.character(continent))\n```\n:::\n\n\n\n## Tablas Sumario\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  39.61   57.16   71.94   67.01   76.41   82.60 \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n  Africa Americas     Asia   Europe  Oceania \n      52       25       33       30        2 \n```\n\n\n:::\n:::\n\n\n\n## Opciones para Graficación - Sistemas\n\n-   Base: hoy\n\n-   GGplot: próxima clase\n\n## Diagrama de Caja y Bigotes (Boxplot)\n\n::::: columns\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nboxplot(gapminder_2007$lifeExp,\n        col = \"#c1121f\")\n```\n\n::: {.cell-output-display}\n![](clase_20_2_files/figure-revealjs/unnamed-chunk-8-1.png){width=960}\n:::\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nboxplot(lifeExp ~ continent, \n        data = gapminder_2007,\n        col = \"#fb8b24\",\n        xlab='Continente',\n        ylab='Expectativa de Vida')\n```\n\n::: {.cell-output-display}\n![](clase_20_2_files/figure-revealjs/unnamed-chunk-9-1.png){width=960}\n:::\n:::\n\n\n:::\n:::::\n\n## Diagrama de Caja - Concepto\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](clase_20_2_files/figure-revealjs/unnamed-chunk-10-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\nEs un gráfico que resume las características principales de un conjunto de datos numéricos, como la mediana, el rango intercuartil (IQR) (25%, 50% y 75%) y los valores atípicos.\n\n## Diagrama de Caja - Casos de Uso - 1\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](clase_20_2_files/figure-revealjs/unnamed-chunk-11-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n-   Comparar distribuciones de diferentes grupos.\n\n## Diagrama de Caja - Casos de Uso - 2\n\n-   Identificar *outliers* (valores atípicos).\n\n-   Analizar la centralización, dispersión y simetría de los datos.\n\n## Diagrama de Caja - Casos de Uso - 3\n\n-   Detectar diferencias significativas entre grupos.\n\n\n\n    ::: {.cell layout-align=\"center\"}\n    ::: {.cell-output-display}\n    ![](clase_20_2_files/figure-revealjs/unnamed-chunk-12-1.png){fig-align='center' width=960}\n    :::\n    :::\n\n\n\n## Histogramas\n\n::::: columns\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhist(main = 'Hist. ExpVida',\n     gapminder_2007$lifeExp,\n     col = \"green\",\n     xlab='Expectativa de Vida',\n     breaks = 20)\n```\n\n::: {.cell-output-display}\n![](clase_20_2_files/figure-revealjs/unnamed-chunk-13-1.png){width=960}\n:::\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhist(main = 'Hist PIBpercap',\n     gapminder$gdpPercap,\n     col = \"orange\",\n     xlab='PIB per Cápita',\n     breaks = 50)\n\nabline(v = median(gapminder$gdpPercap), \n       col = \"red\",\n       lwd = 2)\n```\n\n::: {.cell-output-display}\n![](clase_20_2_files/figure-revealjs/unnamed-chunk-14-1.png){width=960}\n:::\n:::\n\n\n:::\n:::::\n\n## Histogramas- Concepto\n\nMuestra la distribución de frecuencias de un conjunto de datos numéricos. Se divide el rango de datos en intervalos (bins) y se representa la frecuencia de los valores que caen dentro de cada intervalo como barras.\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](clase_20_2_files/figure-revealjs/unnamed-chunk-15-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n## Histogramas- Casos de Uso\n\n-   Visualizar la forma y simetría de una distribución.\n\n-   Identificar picos, modas y áreas con baja frecuencia.\n\n-   Comparar distribuciones entre diferentes grupos.\n\n-   Detectar valores atípicos.\n\n## Múltiples Histogramas\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\npar(mfrow = c(2, 1), \n    mar = c(4, 4, 2, 1))\n\nhist(subset(gapminder_2007, \n            continent == \"Europe\")$lifeExp, \n     col =\"#219ebc\" )\n\nhist(subset(gapminder_2007, \n            continent == \"Africa\")$lifeExp, \n     col = \"#c1121f\")\n```\n\n::: {.cell-output-display}\n![](clase_20_2_files/figure-revealjs/unnamed-chunk-16-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n## Gráfico de Densidad (Density Plot)\n\n::::: columns\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndens <- density(gapminder_2007$lifeExp)\n# plot density\nplot(dens, \n     col = \"#ef233c\", \n     main = \"Gr. Densidad ExpVida Gap 2007\") \n```\n\n::: {.cell-output-display}\n![](clase_20_2_files/figure-revealjs/unnamed-chunk-17-1.png){width=960}\n:::\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndens1 <- density(gapminder$lifeExp)\n# plot density\nplot(dens1, \n     col = \"#023e8a\", \n     main = \"Gr. Densidad ExpVida Gap\") \n```\n\n::: {.cell-output-display}\n![](clase_20_2_files/figure-revealjs/unnamed-chunk-18-1.png){width=960}\n:::\n:::\n\n\n:::\n:::::\n\n## Gráfico de Densidad- Concepto\n\nGráfico que muestra la densidad de probabilidad de un conjunto de datos numéricos. Se utiliza una curva suave para representar la distribución, donde la altura de la curva en un punto indica la densidad de los valores cercanos a ese punto.\n\n## Gráfico de Densidad- Casos de uso\n\n-   Visualizar la forma y simetría de una distribución de manera más continua que el histograma.\n\n-   Comparar distribuciones entre diferentes grupos.\n\n-   Identificar picos, modas y áreas con baja densidad.\n\n## Diagrama de Barras (Barplot)\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbarplot(table(gapminder_2007$continent),\n        col = \"#ffbe0b\", \n        main = \"Cdad. de Países en Cada Continente\")\n```\n\n::: {.cell-output-display}\n![](clase_20_2_files/figure-revealjs/unnamed-chunk-19-1.png){width=960}\n:::\n:::\n\n\n\n## Diagrama de Barras- Concepto\n\nEs un gráfico que utiliza barras para representar la frecuencia o magnitud de variables categóricas-discretas. La altura de cada barra corresponde a la frecuencia o magnitud de la categoría correspondiente.\n\n## Diagrama de Barras- Casos de uso\n\n-   Comparar frecuencias o magnitudes entre diferentes categorías.\n\n-   Mostrar tendencias a lo largo del tiempo.\n\n-   Representar datos nominales o ordinales.\n\n## Diagrama de Dispersión (ScatterPlot)\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwith(gapminder,\n     plot(lifeExp, gdpPercap,\n          col= \"#9d0208\"))\n```\n\n::: {.cell-output-display}\n![](clase_20_2_files/figure-revealjs/unnamed-chunk-20-1.png){width=960}\n:::\n:::\n\n\n\n## Diagrama de Dispersión- Concepto\n\nGráfico que muestra la relación entre dos variables numéricas. Cada punto en el gráfico representa una observación, con su posición determinada por los valores de las dos variables.\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](clase_20_2_files/figure-revealjs/unnamed-chunk-21-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n## Diagrama de Dispersión- Casos de uso\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](clase_20_2_files/figure-revealjs/unnamed-chunk-22-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n-   Visualizar la correlación entre dos variables.\n\n-   Identificar tendencias y patrones en los datos.\n\n-   Detectar *outliers* (valores atípicos).\n\n-   Analizar la relación lineal o no lineal entre variables.\n\n## Consideraciones Sobre Sistema Base\n\n## Parámetros Comunes Sistema Base\n\n-   pch: el símbolo de trazado (por defecto es círculo abierto)\n\n-   lty: el tipo de línea (por defecto es línea continua), puede ser discontinua, punteada, etc.\n\n-   lwd: la anchura de la línea, especificada como un múltiplo entero col: el color de trazado, especificado como número, cadena o código hexadecimal;\n\n## Parámetros Comunes Sistema Base -2\n\n-   col: el color de trazado, especificado como número, cadena o código hexadecimal; la función colors() le proporciona un vector de colores por nombre.\n\n-   xlab: cadena de caracteres para la etiqueta del eje x\n\n-   ylab: cadena de caracteres para la etiqueta del eje y\n\n## Parámetros Globales Sistema Base\n\nLa función par() se utiliza para especificar parámetros gráficos globales que afectan a todos los gráficos de una sesión de R. Estos parámetros pueden anularse cuando se especifican como argumentos de funciones de trazado específicas.\n\n-   las: la orientación de las etiquetas de los ejes en el gráfico\n\n-   bg: color de fondo\n\n-   mar: el tamaño del margen\n\n## Ejemplo de Construcción de Gráfico en Base\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwith(airquality, \n     plot(Wind,\n          Ozone, \n          main = \"Ozono y Viento en ciudad de New York \",\n          # type = \"n\",\n          col='orange'))\n\nwith(subset(airquality,\n            Month == 5), \n     points(Wind, \n            Ozone, \n            col = \"blue\"))\n\nwith(subset(airquality,\n            Month != 5), \n     points(Wind, \n            Ozone, \n            col = \"#fb5607\"))\n\nlegend(\"topright\", \n       pch = 1, \n       col = c(\"blue\",\n               \"#fb5607\"), \n       legend = c(\"Mayo\", \"Otros Meses\"))\n```\n:::\n\n\n\n## Resultado Gráfico Base\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](clase_20_2_files/figure-revealjs/unnamed-chunk-24-1.png){width=960}\n:::\n:::\n\n\n\n## Paquetes EDA\n\n-   skimr\n\n-   DataExplorer\n\n-   summarytools\n\n-   dataReporter\n\n-   visdat\n\ncódigos disponibles en [enlace](https://github.com/UCVeconomia2024-2/scripts/blob/main/soporte_clases/clase_20/script_clase20.R)\n\n## Resumen EDA\n\n-   Los gráficos exploratorios son «rápidos y sucios».\n\n-   Permiten resumir los datos (normalmente de forma gráfica) y resaltar las características generales.\n\n-   Explorar preguntas e hipótesis básicas (y quizás descartarlas)\n\n-   Sugieren estrategias de modelización para el «siguiente paso».\n\nEnlace Material de Apoyo [https://ucveconomiar4ds.netlify.app/scripts/](https://ucveconomiar4ds.netlify.app/scripts/c)[04_PlottingBase.pdf](https://ucveconomiar4ds.netlify.app/scripts/04_PlottingBase.pdf)\n",
    "supporting": [
      "clase_20_2_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
---
title: "Ciencia de Datos para Economistas"
subtitle: "Clase 19 - Introducci칩n a la Visualizaci칩n de Datos (VD)"
date: "January 15, 2025"
author: "MSc. Jos칠 M. Avenda침o"
output:
  html_document:
    toc: yes
    incremental: true
# filters:
#   - webr
engine: knitr
format: 
  revealjs:
    incremental: true
execute:
  echo: true
eval: false
---

## 

::: {style="margin-top: 200px; font-size: 1.2 em; color: #023e8a;"}
*Una imagen vale m치s que mil palabras...*

*s칩lo si sabes como leerla* <br><br>
:::

::: {style="color: #06d6a0;"}
How Charts Lie (2019), Alberto Cairo
:::

# I: Genealog칤a de la VD

![Geneaolog칤a B칤blica de Stephanus Garcia, apr칩x. Siglo XI. The Book of Trees de Manuel Lima](images/clase19/00Intro/arbol%20genealogico.png)

## y en el inicio

![Mapa del Mundo Babil칩nico - VII AC](images/clase19/00Intro/Baylonianmaps.JPG)

## Mapa Orbis Terrarum (O-T)

![https://en.wikipedia.org/wiki/T_and_O_map](images/clase19/00Intro/Diagrammatic_T-O_world_map_-_12th_c.jpg){fig-align="center"}

::: notes
Es de suponer que se consider칩 t치citamente una proyecci칩n conveniente de la porci칩n habitada del mundo conocida en 칠poca romana y medieval . La T es el Mediterr치neo, que divide los tres continentes, Asia, Europa y 츼frica, y la O es el Oc칠ano circundante.
:::

## Mapa **Mahmud al-Kashgari's**

![Aproximadamente siglo XI. Tomado de https://en.wikipedia.org/wiki/Mahmud_al-Kashgari](images/clase19/00Intro/Kashgari_map.jpg){fig-align="center"}

::: notes
Se utilizan s칤mbolos:

l칤neas azules para los r칤os,

l칤neas rojas para las cadenas monta침osas

El mundo est치 rodeado por el oc칠ano.
:::

## El Reloj Cosmogr치fico

![John Carte, aprox. 1700 en The Book of Trees: Visualizing Branches of Knowledge de Manuel Lima](images/clase19/00Intro/the_cosmographical.png){fig-alt="John Carte 1700" fig-align="center"}

## Problema Representaci칩n en Mapas

![](images/clase19/00Intro/deformacion.jpeg){fig-align="center"}

## 游깵 en Distintas Proyecciones

![](images/clase19/00Intro/projections_word.gif){fig-align="center"}

## 游游 - 游뻟릖 en Distintas Proyecciones

![c칩digo disponible en https://github.com/UCVeconomia2024-2/scripts/tree/main/soporte_clases/clase_19/mapa_proyecciones.R](images/clase19/00Intro/projections_ve_col.gif)

## Elementos Mapas

-   Codificaciones / S칤mbolos

-   Vocabulario

-   Abstracciones

-   Representaciones de:

    -   conocimiento

    -   relaciones

# II: VD - CD y Mapas

![](images/clase19/00Intro/john_snow2.png)

## Herencia de los Mapas

![Mapa realizado por John Snow en 1854. Tomado de Visual Explanations, Images and Quantities de Edward R. Tufte](images/clase19/00Intro/john_snow.png)

## Representaci칩n de Flujos Comerciales

![1864, Exportaciones de Vino Frances por Charles Joseph Minard, cart칩grafo fr치nces. Tomado de Visual Explanations, Images and Quantities de Edward R. Tufte](images/clase19/00Intro/expor_vino_fr_1864.png){fig-align="center"}

## Visualizaci칩n de Observaciones- Galileo Galilei

![1610, a침o de las observaciones de G.G. obtenido de <https://www.esa.int/ESA_Multimedia/Images/2005/11/Galileo_s_observations_of_Jupiter_s_moons>](images/clase19/00Intro/Galileo_s_observations_of_Jupiter_s_moons_pillars.jpg){fig-align="center"}

## Detalle Observaci칩n Lunas J칰piter

![](images/clase19/00Intro/MotionJupiterMoons.jpg){fig-align="center"}

## Contar Historias: Espacio y Tiempo

![Avance de Campa침a del Ejercito Franc칠s al mando de Napole칩n Bonaparte por Charles Joseph Minard, 1869. Tomado de The Visual Display of Quantitative Information de Edward Tufte](images/clase19/00Intro/rev_franc.png){fig-align="center"}

## El Eslab칩n

![The Comertial and Political Atlas de William Payfair, 1786](images/clase19/00Intro/eslabon.png){fig-align="center"}

# III: 쯈u칠 Queremos Hacer al Visualizar los Datos?

## Encontrar Patrones

Caso Asesinatos cometidos por Harold Shipman

::: {#fig-muertes layout-ncol="2"}
![](images/clase19/00Intro/muertes_scatter.png){#fig-surus fig-align="center" width="360"}

![](images/clase19/00Intro/muertes_horas.png){#fig-hanno fig-align="center" width="406"}

Tomado de The Art of Statistics de David Spiegelhalter
:::

::: notes
1\) diagrama de dispersi칩n que muestra la edad y el a침o de la muerte de las 215 v칤ctimas confirmadas de Harold Shipman. Se han a침adido gr치ficos de barras se han a침adido en los ejes para revelar el patr칩n de edades y el patr칩n de a침os en los que cometi칩 asesinatos.

2\) El tiempo al que murieron los pacientes de Harold Shipman, en comparaci칩n con los tiempos en que los pacientes de otros locales m칠dicos generales locales. El patr칩n no requiere an치lisis estad칤stico sofisticado
:::

## Buscar Indicios de Correlaciones y Posibles Relaciones Causales

![](images/clase19/00Intro/correlation_SEO.png){fig-align="center"}

## Contar Historias- Presentar Resultados de una Investigaci칩n

![](images/clase19/00Intro/Graficos_flujo.gif){fig-align="center"}

## Principios de la VD

-   Simplificaci칩n de la realidad que se estudia

-   Revelar-explicar y dejar interrogantes

-   Tomar en consideraci칩n qui칠nes ser치n los "lectores" de la imagen y su alfabetismo en la lectura de gr치ficos

## Gram치tica de los Gr치ficos (GG)

Marco te칩rico donde se descompone un gr치fico en elementos esenciales como los datos, las transformaciones estad칤sticas, las escalas, las gu칤as (ejes, leyendas) y las capas visuales (geometr칤as como puntos, l칤neas o barras).

M치s info en <https://vita.had.co.nz/papers/layered-grammar.pdf>

```{r}
#| eval: false
#| # library
library(ggplot2)

data=head(mtcars, 30)
 
ggplot(data, aes(x=wt, y=mpg)) +
  geom_point() +
  geom_text(
    label=rownames(data), 
    nudge_x = 0.25, nudge_y = 0.25, 
    check_overlap = T
  )
```

::: notes
La idea principal es que cualquier gr치fico puede ser construido al combinar estos componentes, permitiendo una personalizaci칩n detallada y consistente en la representaci칩n de datos.

ggplot2 en R,

Un aspecto crucial de esta gram치tica es su enfoque en las

transformaciones y mapeos.

Los datos crudos se transforman en una representaci칩n visual a trav칠s de

mapeos est칠ticos (color, tama침o, posici칩n) y

transformaciones estad칤sticas (como promedios, distribuciones o modelos de ajuste).

Esto permite que los gr치ficos no solo presenten datos, sino que los expliquen y resalten patrones significativos.
:::

## Ejemplos de Codificaciones

::::: columns
::: {.column width="50%"}
![](images/clase19/00Intro/codificacion.png){fig-align="center"}
:::

::: {.column width="50%"}
-   s칤mbolos

-   fechas

-   proporciones
:::
:::::

## 游띔 Marketing

![Presentaci칩n del Iphone por Steve Jobs 2008. Tomado de https://www.labo.mathieurella.fr/?p=403](images/clase19/00Intro/jobs.png){fig-align="center"}

## 

![https://elpais.com/tecnologia/2024-11-24/de-bannon-a-musk-la-decada-que-convirtio-la-desinformacion-en-la-nueva-normalidad.html](images/clase19/00Intro/desinformacion.png){fig-align="center"}

::: notes
La libertad depende de ciudadanos capaces de distinguir distinguir entre lo que es verdad y lo que quieren o칤r. El autoritarismo llega no porque la gente diga que lo quiere, sino porque pierde la capacidad de distinguir entre hechos y deseos.

TIMOTHY SNYDER, EL CAMINO HACIA LA FALTA DE LIBERTAD (2018)
:::

# IV: Buenas Pr치cticas

[![](images/clase19/01buenaspracticas/principios_disen팪o.png){fig-align="center"}](https://www.youtube.com/watch?v=umDKP7ofHKk)

## Formalidades

::::: columns
::: {.column width="50%"}
-   Etiquetas en ejes

-   Valores y unidad de medida

-   Fuente de los datos

-   T칤tulo - Subt칤tulo

-   Grillas (opcional)

-   Rotar valores

-   Cifras equivalentes
:::

::: {.column width="50%"}
![](images/clase19/00Intro/ejemploGGplot.png){fig-align="center"}
:::
:::::

## Canales de Comunicaci칩n Recomendados

![Gu칤a de Munzner para agrupar los canales visuales en magnitud e identidad y clasificarlos por eficacia. Im치gen extra칤da de 춺Visualization Analysis and Design췉 de Tamara Munzner](images/clase19/01buenaspracticas/Munzners-guideline-to-group-visual-channels-into-magnitude-and-identity-channels-and.png){fig-align="center"}

## Uso de Colores

::::: columns
::: {.column width="50%"}
Complementarios

![https://www.canva.com/colors/color-wheel/](images/clase19/01buenaspracticas/colorwheel.png){fig-align="center" width="283"}
:::

::: {.column width="50%"}
Paletas de Colores

![https://coolors.co/palettes/trending](images/clase19/01buenaspracticas/paletacolor.png){fig-align="center"}
:::
:::::

## Escalas de Colores:

## Continuas

::::: columns
::: {.column width="50%"}
![](images/clase19/01buenaspracticas/ggplot_intensidad.png){fig-align="center" width="528"}
:::

::: {.column width="50%"}
![](images/clase19/01buenaspracticas/ggplot_continua.png){fig-align="center"}
:::
:::::

## Discretas

::::: columns
::: {.column width="50%"}
![](images/clase19/01buenaspracticas/ggplot_discreta.png){width="606"}
:::

::: {.column width="50%"}
![](images/clase19/01buenaspracticas/rcolorbrewer.png){fig-align="center" width="319"}
:::
:::::

## Viridis

![colores dise침ados para mejorar la legibilidad de los gr치ficos para lectores con formas comunes de daltonismo y/o deficiencia de visi칩n crom치tica](images/clase19/01buenaspracticas/viridis.png){fig-align="center"}

## Uso de Escalas de Representaci칩n

## Lineal

![](images/clase19/01buenaspracticas/esc_lineal.png){fig-align="center"}

## Exponencial

![](images/clase19/01buenaspracticas/esc_exp_log.png){fig-align="center"}

## Logar칤tmica

![m치s informaci칩n en https://pmc.ncbi.nlm.nih.gov/articles/PMC7200843/](images/clase19/01buenaspracticas/esc_log.png){fig-align="center"}

## Gr치ficos Interactivos OWD

![en este tipo de gr치ficos se incorporan m칠todos alternativos para acceder a los datos. https://ourworldindata.org/poverty](images/clase19/01buenaspracticas/owd.png){fig-align="center"}

## Gr치ficos Interactivos Patria

![https://covid19.patria.org.ve/estadisticas-venezuela/](images/clase19/02malaspracticas/patria.01.png){fig-align="center"}

## Gr치ficos Recomendados seg칰n caso de uso

![](images/clase19/otros/2tipos/Graficos_tipos2.jpeg){fig-align="center"}

# V: Malas Pr치cticas

## Representaci칩n de 츼reas Dispersas

Mapa con resultados elecciones presidenciales EEUU 2016 por County

:::: columns
::: {.column width="50%"}
![Tomado de How Charts Lies de Alberto Cairo](images/clase19/01buenaspracticas/interactivos.png){fig-align="center" width="616"}
:::
::::

## Representaci칩n de 츼reas Dispersas 2

Representaci칩n 3d interactiva con resultados elecciones presidenciales EEUU 2016 por County

![Disponible en https://carto.maps.arcgis.com/apps/webappviewer3d/index.html?id=02b618528b7b458cb5d05557ebd44](images/clase19/02malaspracticas/trump2.png)

## Representaciones Sin Ejes

## Forzar Uso de Doble Eje en las Y

::::: columns
::: {.column width="50%"}
![extra칤do de https://ecoanalitica.com/wp-content/uploads/filebase/informes/perspectivas/Persp_4T17.pdf](images/clase19/02malaspracticas/ecoana1_dobleje.png){fig-align="center" width="599"}
:::

::: {.column width="50%"}
![http://webdelprofesor.ula.ve/economia/ajhurtado/docencia/seminarioteoriadelaincertidumbre/materialdeapoyo/Ecoan08.pdf](images/clase19/02malaspracticas/ecoana3_eje.png){fig-align="center" width="599"}
:::
:::::

## Representaciones 3D con Rotaci칩n

## Desproporciones- Comparaciones no Apropiadas

![https://www.vtv.gob.ve/dia-1125-lucha-covid-14042023/](images/clase19/02malaspracticas/vtv_covid.png){fig-align="center"}

## Truncado de Ejes

![](images/clase19/02malaspracticas/tax_truncado.png){fig-align="right"}

## Aglutinamiento - Falta Diferenciaci칩n

::::: columns
::: {.column width="50%"}
![https://www.vtv.gob.ve/banco-venezuela-supera-cantidad-transacciones-2020/](images/clase19/02malaspracticas/truncadobdv.png){fig-align="center" width="717"}
:::

::: {.column width="50%"}
![Truncating the Y-Axis: Threat or Menace?, Michael Correll, disponible en https://arxiv.org/pdf/1907.02035](images/clase19/02malaspracticas/truncado1.png){fig-align="center"}
:::
:::::

## Representaciones "No Honestas"

![Truncating the Y-Axis: Threat or Menace?, Michael Correll, disponible en https://arxiv.org/pdf/1907.02035](images/clase19/02malaspracticas/truncado2.png)

## Doble Eje Y

![](images/clase19/02malaspracticas/cedice.png){fig-align="center"}

<https://cedice.org.ve/ogp/wp-content/uploads/2024/02/CII-2024-febrero.pdf>

## Fuentes de Datos no Apropiadas

::::: columns
::: {.column width="50%"}
![](images/clase19/02malaspracticas/cedice2.png){fig-align="center" width="459"}
:::

::: {.column width="50%"}
![](images/clase19/02malaspracticas/cedice_fuente.01.png){fig-align="center" width="407"}
:::
:::::

<https://cedice.org.ve/ogp/wp-content/uploads/2024/02/CII-2024-febrero.pdf>

## Mentir con los gr치ficos

![m치s info en https://www.linkedin.com/pulse/when-numbers-mislead-groww-in/](images/clase19/02malaspracticas/apple_acumulado.png){fig-align="center"}

## Gr치ficos No Apropiados u 칍ptimos

::::: columns
::: {.column width="50%"}
Bolsa Valores Caracas

![https://www.bolsadecaracas.com realizado con librer칤a https://www.amcharts.com/demos/range-chart-with-different-fill-colors/](images/clase19/02malaspracticas/bvc.png){fig-align="center"}
:::

::: {.column width="50%"}
Down Jones

![https://finance.yahoo.com/quote/%5EDJI/](images/clase19/02malaspracticas/%20downjones.png){fig-align="center" width="623"}
:::
:::::

# VI: 쮺u치ndo se usa la VD en la CD?

## i) An치lisis Exploratorio de Datos

[![](images/clase19/04usosEDA/abercrombie.png){fig-align="center"}](https://en.wikipedia.org/wiki/Anscombe%27s_quartet)

## EDA

::::: columns
::: {.column width="50%"}
![](images/clase19/04usosEDA/EDA2.png){fig-align="center" width="724"}
:::

::: {.column width="50%"}
![](images/clase19/04usosEDA/EDA3.png){fig-align="center" width="587"}
:::
:::::

Ejemplos obtenidos de "Same Stats, Different Graphs: Generating Datasets with Varied Appearance and Identical Statistics through Simulated Annealing" por **Justin Matejka만t all.**

## II) Comunicar Resultados

# Ejemplos

## An치lisis Sonoridad por G칠nero Musical

![](images/clase19/otros/loud_spotify.png){fig-alt="Visualizaci칩n realizada por Isabela Velasquez para tidytuesday. C칩digo disponible en https://gist.github.com/ivelasq/fa6f30faec19c3adf31d41d77c02ba88" fig-align="center"}

## Presentar Resultados Grafos

![Investigaci칩n de El Gato y la Caja sobre el crecimiento de los nuevos medios digitales en Argentina, disponible en https://elgatoylacaja.com/el-dia-que-prendieron-la-luz](images/clase19/otros/elgatoylacaja.png){fig-align="center"}

## Variaciones Mensuales de Valores

::::: columns
::: {.column width="50%"}
![](images/clase19/otros/temp_ciud1.jpeg){fig-align="center" width="341"}
:::

::: {.column width="50%"}
![](images/clase19/otros/temp_ciud2.jpeg){fig-align="center" width="341"}
:::
:::::

## Clusters - T칩picos

![Visualizaci칩n elaborada por Jos칠 Avenda침o disponible en https://atlas.nomic.ai/data/javenda/saber-ucv/map](images/clase19/saber.png){fig-align="center"}

## Treemaps

![Covid 19 en Venezuela, cifras Patria,org.ve, procesadas por Jos칠 Avenda침o https://javenda.netlify.app/covid19venezuela](images/clase19/treemap.png){fig-align="center"}

## Distribuciones

![](images/clase19/otros/2tipos/boxplotVsViolin.gif){fig-align="center"}

## Ejemplos de C칩digos GGplot2

![https://r-graph-gallery.com](images/clase19/otros/galeria_ggplot.png){fig-align="center" width="581"}

## Recursos Adicionales de Inter칠s

-   C칩digos con gr치ficos para el sistema GGplot [r-graph-gallery](https://r-graph-gallery.com)

-   Visualizaci칩n Datos Abiertos [https://datos.gob.es](https://datos.gob.es/es/blog/como-elegir-el-grafico-correcto-para-visualizar-datos-abiertos)

-   BBC R cookbook [https://bbc.github.io](https://bbc.github.io/rcookbook/)

-   Visualizaci칩n de Datos en R4DS [R4DS](https://r4ds.hadley.nz/data-visualize.html)

-   Modern Data Visualization [datavis](https://rkabacoff.github.io/datavis/)

-   Sitio de Edward Tufte <https://www.edwardtufte.com>
